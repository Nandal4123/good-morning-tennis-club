name: Keep Alive

on:
  schedule:
    # 14분마다 실행 (Render 15분 타임아웃 직전)
    # GitHub Actions 무료 한도 절약
    - cron: '*/14 * * * *'
  workflow_dispatch: # 수동 실행 가능

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Backend Server
        run: |
          echo "Pinging server to keep it alive..."
          curl -s -o /dev/null -w "HTTP Status: %{http_code}\n" \
            https://good-morning-tennis-club.onrender.com/api/health || true
          echo "Keep-alive ping completed at $(date)"

